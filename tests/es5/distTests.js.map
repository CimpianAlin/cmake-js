{"version":3,"names":[],"mappings":"","sources":["distTests.js"],"sourcesContent":["\"use strict\";\n/* global describe,it */\n\nvar Bluebird = require(\"bluebird\");\nvar fs = Bluebird.promisifyAll(require(\"fs-extra\"));\nvar Dist = require(\"../../\").Dist;\nvar assert = require(\"assert\");\n\nvar testDownload = process.env.TEST_DOWNLOAD === \"1\";\n\ndescribe(\"dist\", function () {\n    it(\"should download dist files if needed\", function (done) {\n        this.timeout(60000);\n        var dist = new Dist();\n        console.log(\"Internal path: \" + dist.internalPath);\n        if (testDownload) {\n            fs.deleteAsync(dist.internalPath)\n                .then(function () {\n                    assert(dist.downloaded === false);\n                    return dist.ensureDownloaded();\n                })\n                .then(function () {\n                    assert(dist.downloaded);\n                })\n                .nodeify(done);\n        }\n        else {\n            dist.ensureDownloaded().nodeify(done);\n        }\n    });\n\n});"],"file":"distTests.js","sourceRoot":"/source/"}