{"version":3,"names":[],"mappings":"","sources":["dist.js"],"sourcesContent":["\"use strict\";\r\n/* global describe,it */\r\n\r\nlet Bluebird = require(\"bluebird\");\r\nlet fs = Bluebird.promisifyAll(require(\"fs-extra\"));\r\nlet Dist = require(\"../../\").Dist;\r\nlet assert = require(\"assert\");\r\nlet async = Bluebird.coroutine;\r\n\r\nlet testDownload = process.env.TEST_DOWNLOAD === \"1\";\r\n\r\ndescribe(\"dist\", function () {\r\n    it(\"should download dist files if needed\", function (done) {\r\n        this.timeout(60000);\r\n        async(function*() {\r\n            let dist = new Dist();\r\n            if (testDownload) {\r\n                yield fs.deleteAsync(dist.internalPath);\r\n                assert(dist.downloaded === false);\r\n                yield dist.ensureDownloaded();\r\n                assert(dist.downloaded);\r\n            }\r\n            else {\r\n                yield dist.ensureDownloaded();\r\n            }\r\n        })().nodeify(done);        \r\n    });\r\n\r\n});"],"file":"dist.js","sourceRoot":"/source/"}